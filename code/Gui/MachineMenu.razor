@using Sandbox.Tools

<root>
	<div class="machine-menu">
		<div class="machine-menu-container">
			<div class="machine-menu-row">
				@foreach(string machineName in BlueprintTool.Blueprints.Keys)
				{
					<div class="machine-slot" onclick="@( () => SpawnBlueprint(machineName) )">
						<h4>@machineName</h4>
					</div>
				}
			</div>
		</div>
	</div>
</root>

@code {
	void SpawnBlueprint(string name)
	{
		PlayerController.IsMachineMenuOpened = false;

		BlueprintTool.Equip();
		BlueprintTool.SpawnBlueprint(name);
	}

	public PlayerController PlayerController { get; set; }
	public BlueprintTool BlueprintTool { get; set; }
}
